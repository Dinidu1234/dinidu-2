<UserControl x:Class="KickBlastStudentUI.Views.AthletesView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Grid Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="240" />
                <ColumnDefinition Width="220" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <TextBox Grid.Column="0" Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource InputBoxStyle}" Margin="0,0,10,0" />
            <ComboBox Grid.Column="1" ItemsSource="{Binding Plans}" SelectedItem="{Binding SelectedPlanFilter}" DisplayMemberPath="Name" Height="36" Margin="0,0,10,0" />
            <Button Grid.Column="2" Content="Reset Form" Command="{Binding ResetCommand}" Style="{StaticResource HeaderButtonStyle}" Width="100" Height="36" />
        </Grid>

        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="1*" />
            </Grid.ColumnDefinitions>

            <Border Style="{StaticResource CardStyle}" Margin="0,0,10,0">
                <DataGrid ItemsSource="{Binding Athletes}" SelectedItem="{Binding SelectedAthlete}" AutoGenerateColumns="False" IsReadOnly="True">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="*" />
                        <DataGridTextColumn Header="Plan" Binding="{Binding TrainingPlan.Name}" Width="*" />
                        <DataGridTextColumn Header="Current Kg" Binding="{Binding CurrentWeightKg}" Width="*" />
                        <DataGridTextColumn Header="Category Kg" Binding="{Binding CompetitionCategoryKg}" Width="*" />
                    </DataGrid.Columns>
                </DataGrid>
            </Border>

            <Border Grid.Column="1" Style="{StaticResource CardStyle}">
                <StackPanel>
                    <TextBlock Text="Add / Edit Athlete" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,10" />
                    <TextBlock Text="Name" />
                    <TextBox Text="{Binding Name}" Style="{StaticResource InputBoxStyle}" />

                    <TextBlock Text="Training Plan" Margin="0,8,0,0" />
                    <ComboBox ItemsSource="{Binding Plans}" DisplayMemberPath="Name" SelectedItem="{Binding SelectedPlan}" Height="36" />

                    <TextBlock Text="Current Weight (Kg)" Margin="0,8,0,0" />
                    <TextBox Text="{Binding CurrentWeight}" Style="{StaticResource InputBoxStyle}" />

                    <TextBlock Text="Competition Category (Kg)" Margin="0,8,0,0" />
                    <TextBox Text="{Binding CompetitionWeight}" Style="{StaticResource InputBoxStyle}" />

                    <TextBlock Text="{Binding ValidationMessage}" Foreground="#DC2626" Margin="0,8,0,0" TextWrapping="Wrap" />

                    <StackPanel Orientation="Horizontal" Margin="0,12,0,0">
                        <Button Content="Save" Command="{Binding AddOrUpdateCommand}" Style="{StaticResource AccentButtonStyle}" Width="90" Height="38" Margin="0,0,8,0" />
                        <Button Content="Delete" Command="{Binding DeleteCommand}" Style="{StaticResource HeaderButtonStyle}" Width="90" Height="38" />
                    </StackPanel>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</UserControl>
